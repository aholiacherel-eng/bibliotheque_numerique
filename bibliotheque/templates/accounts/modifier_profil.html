{% extends 'base.html' %} 
{% block title %}Modifier mon profil —BiblioNumérique{% endblock %} {% block content %}
<div class="max-w-2xl mx-auto px-4 py-12">
  <div class="flex items-center gap-4 mb-8">
    <a
      href="{% url 'accounts:profil' %}"
      class="text-stone-400 hover:text-[#b5451b] transition-colors"
      >← Retour</a
    >
    <h1 class="text-3xl italic">Modifier mon profil</h1>
  </div>

  <div class="bg-white border border-stone-200 rounded-2xl p-8">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %} {% for field in form %}
      <div class="mb-5">
        <label
          for="{{ field.id_for_label }}"
          class="block text-xs font-semibold uppercase tracking-wider text-stone-400 mb-2"
        >
          {{ field.label }}
        </label>

        {% if field.field.widget.input_type == 'textarea' %}
        <textarea
          name="{{ field.html_name }}"
          id="{{ field.id_for_label }}"
          rows="4"
          class="w-full px-4 py-3 border border-stone-200 rounded-xl text-sm bg-[#faf7f2] focus:outline-none focus:border-[#b5451b] transition-colors resize-none"
        >
{{ field.value|default:'' }}</textarea
        >
        {% elif field.field.widget.input_type == 'checkbox' %}
        <div class="flex items-center gap-3">
          <input
            type="checkbox"
            name="{{ field.html_name }}"
            id="{{ field.id_for_label }}"
            {%
            if
            field.value
            %}checked{%
            endif
            %}
            class="w-4 h-4 accent-[#b5451b] cursor-pointer"
          />
          <span class="text-sm text-stone-600">{{ field.help_text }}</span>
        </div>
        {% else %}
        <input
          type="{{ field.field.widget.input_type|default:'text' }}"
          name="{{ field.html_name }}"
          id="{{ field.id_for_label }}"
          value="{{ field.value|default:'' }}"
          class="w-full px-4 py-3 border border-stone-200 rounded-xl text-sm bg-[#faf7f2] focus:outline-none focus:border-[#b5451b] transition-colors"
        />
        {% endif %} {% if field.errors %} {% for error in field.errors %}
        <p class="text-[#b5451b] text-xs mt-1">{{ error }}</p>
        {% endfor %} {% endif %}
      </div>
      {% endfor %}

      <div class="flex gap-3 pt-4 border-t border-stone-100">
        <button
          type="submit"
          class="px-8 py-3 rounded-full bg-[#b5451b] text-white font-medium hover:bg-[#962f0e] transition-colors"
        >
          Enregistrer →
        </button>
        <a
          href="{% url 'accounts:profil' %}"
          class="px-8 py-3 rounded-full border border-stone-200 text-sm text-stone-500 hover:border-stone-400 transition-colors"
        >
          Annuler
        </a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
